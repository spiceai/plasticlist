version: v1beta1
kind: Spicepod
name: plasticlist

datasets:
  # - from: https://www.plasticlist.org/downloads/samples.tsv
  #   name: samples
  #   description: plasticlist.org samples dataset (2024) accelerated with Spice
  #   acceleration:
  #     enabled: true

  - from: file:///Users/lukim/Downloads/samples.tsv
    name: samples_file
    description: plasticlist.org samples dataset (2024)
    columns:
      - name: product
        description: The product tested
        embeddings:
          - from: openai_embeddings
            row_id: id
      - name: product	tags
        description: The tags of the product
        embeddings:
          - from: openai_embeddings
            row_id: id

models:
  - from: openai:gpt-4o
    name: gpt4o
    description: OpenAI GPT-4o model
    params:
      tools: auto, memory
      openai_api_key: ${ secrets:OPENAI_API_KEY }

embeddings:
  - from: openai
    name: openai_embeddings
    params:
      openai_api_key: ${ secrets:OPENAI_API_KEY }
    datasets:
      - samples_file
